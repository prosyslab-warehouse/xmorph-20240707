From gord@bambam.m-tech.ab.ca  Sun Sep 28 15:15:25 1997
Sender: gord@trick.profitpress.com
To: michael.gourlay@colorado.edu
X-Attribution:  Gord
Subject: xmorph GIMP plugin (1/2)
Mime-Version: 1.0 (split by tm-edit 7.92)
Content-Type: message/partial; id="Sun_Sep_28_15:17:00_1997@trick.profitpress.com"; number=1; total=2
From: Gordon Matzigkeit <gord@m-tech.ab.ca>
Date: 28 Sep 1997 15:17:00 -0600
Message-Id: <86d8lt3zqr.fsf@trick.profitpress.com>
Lines: 999
Status: O

To: michael.gourlay@colorado.edu
Subject: xmorph GIMP plugin
X-Attribution:  Gord
Gcc: nnml:archive
Mime-Version: 1.0 (generated by tm-edit 7.92)
Content-Type: multipart/mixed;
 boundary="Multipart_Sun_Sep_28_15:17:00_1997-1"
Content-Transfer-Encoding: 7bit

--Multipart_Sun_Sep_28_15:17:00_1997-1
Content-Type: text/plain; charset=US-ASCII

Hi!

The attached diff was made from xmorph-11sep97 to my GIMP plugin
version.

Running

tar -zxvf xmorph-11sep97.tar.gz
cd xmorph-11sep97
patch -p0 < ../xmorph-11sep97-gimp.diff

should apply the patch cleanly.  Then, search the Makefile.orig for
GIMP, and you'll see how to build the plugin or non-plugin version.

A few notes:

* I think I introduced a memory leak somewhere in the initialization
code, because there are no longer just 48 blocks.  AFAIK this leak is
not cumulative.

* I've changed the TGA-writing code to output files that end in .tga.
This makes sense to me.

* There is now a `preview' option that does not actually output
anything.  This is useful for the GIMP mode... I'm not sure how useful
it is for regular users.

* All GIMP-specific code is protected with `#ifdef GIMP' and `if
(plugin)', as I mentioned before.  So, xmorph should behave
identically if you're not running it as a plugin, whether or not it
has plugin support built in.

Let me know if there's anything in this patch that is unclear, or if
there are parts that don't apply cleanly to your latest development
sources.  After you've released a merged version, I'd like to try it
out, and upload it to the GIMP plugin registry.

Thanks a lot,

-- 
  Gord Matzigkeit   | Proudly running pieces of the GNU operating system.
 gord@m-tech.ab.ca  |  Jacques Cousteau loved programming in assembler.
